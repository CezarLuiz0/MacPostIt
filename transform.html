<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>CSS3 - Postit</title>
	<link rel="stylesheet" href="style.css">
</head>
	<body>

		<div class="postit_container">
			<div class="postit" id="postit">
				<div class="front yellow helvetica" id="front">
					<div contenteditable="true" autofocus></div>
					<span id="info">i</span>
				</div>
				<div class="back">
					<p>Cor do Papel:</p>
					<div class="paper" id="paper">
						<a href="#" data-color="yellow" class="yellow active">Amarelo</a>
						<a href="#" data-color="orange" class="orange">Laranja</a>
						<a href="#" data-color="green_light" class="green_light">Verde Claro</a>
						<a href="#" data-color="green" class="green">Verde</a>
						<a href="#" data-color="blue_green" class="blue_green">Verde Piscina</a>
						<a href="#" data-color="blue" class="blue">Azul</a>
						<a href="#" data-color="purple" class="purple">Roxo</a>
						<a href="#" data-color="pink" class="pink">Pink</a>
						<a href="#" data-color="white" class="white">Branco</a>
						<a href="#" data-color="grey" class="grey">Cinza</a>
					</div>

					<p>Fonte:</p>
					<select name="fonts" id="fonts" class="fonts">
						<option value="helvetica">Helvetica</option>
						<option value="comic_sans">Comic Sans</option>
						<option value="arial">Arial</option>
					</select>

					<select name="font_size" id="font_size" class="font_size">
						<option value="auto">Auto</option>
						<option value="font_11">11</option>
						<option value="font_12">12</option>
					</select>

					<br>

					<a href="#" class="ok" id="ok">OK</a>
				</div>
			</div>
		</div>


		<script>

			function $(obj) {
				if (window === this) {
					return new $(obj);
				}

				this.e = [];

				if ( typeof obj === 'object' ) {
					this.e.push(obj);
				}
				else if ( document.querySelectorAll(obj).length >= 2 ) {
					this.e = document.querySelectorAll(obj);
				}
				else {
					this.e.push(document.querySelector(obj));
				}

				return this;
			}

			$.prototype = {
				addClass: function(cls) {
					for ( var i = 0, t = this.e.length; i < t; i++ ) {
						this.e[i].classList.add(cls);
					}
					return this;
				},
				hasClass: function(cls) {
					return this.e[0].classList.contains(cls);
				},
				removeClass: function(cls) {
					for ( var i = 0, t = this.e.length; i < t; i++ ) {
						this.e[i].classList.remove(cls);
					}

					return this;
				},
				toggleClass: function(cls) {
					for ( var i = 0, t = this.e.length; i < t; i++ ) {
						this.e[i].classList.toggle(cls);
					}

					return this;
				},
				on: function(event, callback) {
					for ( var i = 0, t = this.e.length; i < t; i++ ) {
						this.e[i].addEventListener(event, callback, false);
					}
				},
				localSetItem: function(name, val) {
					window.localStorage.setItem(name, val);
					return this;
				},
				localGetItem: function(name) {
					return window.localStorage.getItem(name);
				},
				attr: function(name) {
					for ( var i = 0, t = this.e.length; i < t; i++ ) {
						return this.e[i].getAttribute(name);
					}
				}
			}

			$('#info').on('click', function() {
				$('#postit').addClass('flipped');
			});

			$('#ok').on('click', function(e) {
				$('#postit').removeClass('flipped');

				e.preventDefault();
			});

			$('#paper a').on('click', function(e) {
				var self = $(this),
					attr = self.attr('data-color'),
					active = $('#paper .active'),
					oldattr = active.attr('data-color');

				active.removeClass('active');
				self.addClass('active');
				$('#front').removeClass(oldattr).addClass(attr);

				e.preventDefault();
			});
		</script>

	</body>
</html>